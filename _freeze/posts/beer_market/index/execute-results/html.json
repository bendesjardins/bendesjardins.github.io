{
  "hash": "a6cce72d295a365c59975cd8f5143f01",
  "result": {
    "markdown": "---\ntitle: \"NFL in 2022\"\nauthor: \"Benjamin DesJardins\"\ndate: \"2023-12-11\"\ncategories: [news]\n---\n\n\nAnalyze the `beer_markets.csv` data.\n\n![](thumbnail.jpg)\n\n# Question 2\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.3     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(skimr)\nNFL2022_stuffs <- read_csv('https://bcdanl.github.io/data/NFL2022_stuffs.csv')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 50147 Columns: 10\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (2): game_id, posteam\ndbl (8): play_id, drive, week, qtr, down, half_seconds_remaining, pass, wp\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n\n# Q2a\nIn data.frame, NFL2022_stuffs, remove observations for which values of posteam is missing.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nNFL2022_stuffs <- NFL2022_stuffs %>%\n  filter(!is.na(posteam))\n```\n:::\n\n\n\n# Q2b\nSummarize the mean value of pass for each posteam when all the following conditions hold:\n  `wp` is greater than 20% and less than 75%;\n  `down` is less than or equal to 2; and\n  `half_seconds_remaining` is greater than 120.\n\n::: {.cell}\n\n```{.r .cell-code}\nq2b <- NFL2022_stuffs %>% \n  filter(wp > .2 & wp <.75) %>% \n  filter(down <= 2) %>% \n  filter(half_seconds_remaining > 120) %>% \n  group_by(posteam) %>% \n  summarise(mean_pass = mean(pass))\n```\n:::\n\n  \n# Q2c\nProvide both (1) a ggplot code with geom_point() using the resulting data.frame in Q2b and (2) a simple comments to describe the mean value of pass for each posteam.\n  In the ggplot, reorder the posteam categories based on the mean value of pass in ascending or in   descending order.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq2c <- q2b %>% \n  arrange(desc(mean_pass))\n\nggplot(q2c) + \n  geom_point(aes(x = reorder(posteam, -mean_pass), y = mean_pass))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n# Q2d\n\n::: {.cell}\n\n```{.r .cell-code}\nNFL2022_epa <- read_csv('https://bcdanl.github.io/data/NFL2022_epa.csv')\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 46427 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): game_id, posteam, receiver, passer\ndbl (3): play_id, drive, epa\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\nCreate the data.frame, NFL2022_stuffs_EPA, that includes\n\nAll the variables in the data.frame, NFL2022_stuffs;\n  The variables, passer, receiver, and epa, from the data.frame, NFL2022_epa. by joining the two    data.frames.\nIn the resulting data.frame, NFL2022_stuffs_EPA, remove observations with NA in passer.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nNFL2022_stuffs_EPA <- NFL2022_stuffs %>% \n  left_join(NFL2022_epa, by = \"game_id\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in left_join(., NFL2022_epa, by = \"game_id\"): Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 1 of `x` matches multiple rows in `y`.\nℹ Row 1 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n```\n:::\n\n```{.r .cell-code}\nNFL2022_stuffs_EPA <- NFL2022_stuffs_EPA %>%\n  filter(!is.na(passer))\n```\n:::\n\n\n# Q2e\nProvide both (1) a single ggplot and (2) a simple comment to describe the NFL weekly trend of weekly mean value of epa for each of the following two passers,\n  `\"J.Allen\"`\n  `\"P.Mahomes\"`\n\n\n::: {.cell}\n\n```{.r .cell-code}\npassers <- c(\"J.Allen\",\"P.Mahomes\")\nq2e <- NFL2022_stuffs_EPA %>% \n  filter(passer %in% passers) %>% \n  group_by(passer, week) %>% \n  summarise(mean = mean(epa))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`summarise()` has grouped output by 'passer'. You can override using the\n`.groups` argument.\n```\n:::\n\n```{.r .cell-code}\nggplot(q2e, aes(x = week, y = mean, color = passer)) +\n  geom_line() +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\nOverall, P.Mahomes has a higher average EPA for most weeks of the NFL. J.Allen\nhas some of the lowest EPA's for each week. \n\n# Q2f\n\nCalculate the difference between the mean value of epa for \"J.Allen\" the mean \nvalue of epa for \"P.Mahomes\" for each value of week.\n```\n \n ",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}